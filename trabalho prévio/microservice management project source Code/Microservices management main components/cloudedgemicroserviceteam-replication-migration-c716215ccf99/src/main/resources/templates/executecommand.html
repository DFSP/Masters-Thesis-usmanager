<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head th:include="header :: head"></head>

<body lang="en">	
  <header>
      <nav class="white" role="navigation" th:include="navbar :: nav"></nav>
  </header>	
  
  <main>
    <div class="container">
      <div class="section">
        <div class="row">          
          <h4>Execute ssh command</h4>
          <form id="form-command" action="/api/exec" method="POST">
            <div class="input-field col s12">
              <input type="text" name="hostname" id="hostname" autocomplete="off"></input>
              <label for="last_name">Hostname</label>
            </div>

            <div class="input-field col s12">
              <input type="text" name="username" id="username" autocomplete="off"></input>
              <label for="username">Username</label>
            </div>

            <div class="input-field col s12">
              <input type="password" name="password" id="password" autocomplete="off"></input>
              <label for="password">Password</label>
            </div>
            
            <div class="input-field col s12">
              <textarea id="command" name="command" class="materialize-textarea"></textarea>
              <label for="command">Command</label>
            </div>

            <div id ="loader-placeholder"></div>

            <button class="btn waves-effect waves-light" type="submit" name="action">Execute
                <i class="material-icons right">send</i>
            </button>
          </form>
        </div>
      </div>	  
    </div>
    <script type="text/javascript">
      $("#form-command").on('submit',function(event){
          formSubmitCommand(event, "form-command", onSuccessSubmitCommand);
      });
    </script>

    <!-- Modal Structure -->
    <div id="modal1" class="modal">
      <div class="modal-content">
        <h4>Command result</h4>
        <div id="command-result">

        </div>
      </div>
      <div class="modal-footer">
        <a href="#!" class="modal-action modal-close waves-effect waves-light btn-flat">Close</a>
      </div>
    </div>
    <script type="text/javascript">    
      $('.modal').modal();    
    </script>
  </main>

  <footer class="page-footer teal" th:include="footer :: footer"></footer>
	
</body>
</html>